<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Cinematic CPU Scheduling Simulator - Visualize operating system scheduling algorithms in real time">
  <title>CPU Scheduler | Cinematic Visualization</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet">
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">
</head>

<body>
  <div id="app">
    <!-- Stars Background -->
    <div class="stars-container" id="stars"></div>

    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">‚ö°</span>
        <span class="logo-text">CPU<span class="highlight">Scheduler</span></span>
      </div>
      <div class="header-controls">
        <button class="mode-toggle" id="comparisonToggle">
          <span class="toggle-icon">‚óß</span>
          <span>Comparison Mode</span>
        </button>
      </div>
    </header>

    <!-- Main Container -->
    <main class="main-container">
      <!-- Control Panel -->
      <aside class="control-panel glass-panel">
        <div class="panel-header">
          <h2>Controls</h2>
        </div>

        <div class="control-section">
          <h3>Algorithm</h3>
          <div class="algorithm-buttons" id="algorithmButtons">
            <button class="algo-btn active" data-algo="fcfs">FCFS</button>
            <button class="algo-btn" data-algo="sjf">SJF</button>
            <button class="algo-btn" data-algo="sjf-preemptive">SJF-P</button>
            <button class="algo-btn" data-algo="priority">Priority</button>
            <button class="algo-btn" data-algo="rr">Round Robin</button>
          </div>
        </div>

        <div class="control-section" id="rrControls">
          <h3>Time Quantum</h3>
          <div class="slider-container">
            <input type="range" id="quantumSlider" min="1" max="10" value="3" class="neon-slider">
            <span class="slider-value" id="quantumValue">3</span>
          </div>
        </div>

        <div class="control-section">
          <h3>Simulation Speed</h3>
          <div class="slider-container">
            <input type="range" id="speedSlider" min="1" max="10" value="5" class="neon-slider">
            <span class="slider-value" id="speedValue">5x</span>
          </div>
        </div>

        <div class="control-section">
          <h3>Processes</h3>
          <div class="process-controls">
            <button class="action-btn" id="addProcess">
              <span>+</span> Add Process
            </button>
            <button class="action-btn secondary" id="clearProcesses">
              Clear All
            </button>
          </div>
          <div class="process-list" id="processList"></div>
        </div>

        <div class="control-section">
          <h3>Actions</h3>
          <div class="action-buttons">
            <button class="primary-btn" id="startBtn">
              <span class="btn-icon">‚ñ∂</span>
              <span>Start</span>
            </button>
            <button class="primary-btn pause" id="pauseBtn" disabled>
              <span class="btn-icon">‚è∏</span>
              <span>Pause</span>
            </button>
            <button class="primary-btn reset" id="resetBtn">
              <span class="btn-icon">‚Üª</span>
              <span>Reset</span>
            </button>
          </div>
        </div>

        <div class="control-section">
          <button class="stress-btn" id="stressMode">
            üî• Stress Mode (100+ Processes)
          </button>
        </div>
      </aside>

      <!-- Visualization Area -->
      <section class="visualization-area" id="visualizationArea">
        <!-- Single CPU Mode -->
        <div class="single-mode" id="singleMode">
          <div class="cpu-section">
            <div class="ready-queue" id="readyQueue">
              <div class="queue-label">Ready Queue</div>
              <div class="queue-container" id="queueContainer"></div>
            </div>

            <div class="cpu-core-container">
              <div class="cpu-core" id="cpuCore">
                <div class="cpu-ring ring-1"></div>
                <div class="cpu-ring ring-2"></div>
                <div class="cpu-ring ring-3"></div>
                <div class="cpu-center">
                  <span class="cpu-label">CPU</span>
                  <div class="current-process" id="currentProcess">IDLE</div>
                </div>
              </div>
            </div>

            <div class="completed-area" id="completedArea">
              <div class="queue-label">Completed</div>
              <div class="completed-container" id="completedContainer"></div>
            </div>
          </div>

          <div class="gantt-section glass-panel">
            <div class="gantt-header">
              <h3>Execution Timeline</h3>
            </div>
            <div class="gantt-chart-container">
              <div class="gantt-chart" id="ganttChart"></div>
            </div>
          </div>
        </div>

        <!-- Comparison Mode -->
        <div class="comparison-mode hidden" id="comparisonMode">
          <div class="comparison-grid">
            <div class="comparison-cpu" id="comparisonCPU1">
              <div class="comparison-header">
                <select class="algo-select" id="algoSelect1">
                  <option value="fcfs">FCFS</option>
                  <option value="sjf">SJF</option>
                  <option value="sjf-preemptive">SJF-P</option>
                  <option value="priority">Priority</option>
                  <option value="rr">Round Robin</option>
                </select>
              </div>
              <div class="mini-cpu-container">
                <div class="cpu-core mini" id="cpuCore1">
                  <div class="cpu-ring ring-1"></div>
                  <div class="cpu-ring ring-2"></div>
                  <div class="cpu-center">
                    <span class="cpu-label">CPU 1</span>
                    <div class="current-process" id="currentProcess1">IDLE</div>
                  </div>
                </div>
              </div>
              <div class="mini-gantt glass-panel" id="ganttChart1"></div>
            </div>

            <div class="comparison-cpu" id="comparisonCPU2">
              <div class="comparison-header">
                <select class="algo-select" id="algoSelect2">
                  <option value="fcfs">FCFS</option>
                  <option value="sjf">SJF</option>
                  <option value="sjf-preemptive">SJF-P</option>
                  <option value="priority">Priority</option>
                  <option value="rr" selected>Round Robin</option>
                </select>
              </div>
              <div class="mini-cpu-container">
                <div class="cpu-core mini" id="cpuCore2">
                  <div class="cpu-ring ring-1"></div>
                  <div class="cpu-ring ring-2"></div>
                  <div class="cpu-center">
                    <span class="cpu-label">CPU 2</span>
                    <div class="current-process" id="currentProcess2">IDLE</div>
                  </div>
                </div>
              </div>
              <div class="mini-gantt glass-panel" id="ganttChart2"></div>
            </div>
          </div>

          <div class="comparison-metrics glass-panel">
            <h3>Real-Time Comparison</h3>
            <div class="metrics-charts" id="metricsCharts"></div>
          </div>
        </div>
      </section>

      <!-- Metrics Panel -->
      <aside class="metrics-panel glass-panel" id="metricsPanel">
        <div class="panel-header">
          <h2>Metrics</h2>
        </div>

        <div class="metric-card">
          <div class="metric-label">CPU Utilization</div>
          <div class="radial-gauge" id="cpuGauge">
            <svg viewBox="0 0 100 100">
              <circle class="gauge-bg" cx="50" cy="50" r="40" />
              <circle class="gauge-fill" cx="50" cy="50" r="40" id="gaugeCircle" />
            </svg>
            <div class="gauge-value" id="cpuUtilization">0%</div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-label">Avg Waiting Time</div>
          <div class="metric-value" id="avgWaitTime">0.00</div>
          <div class="metric-bar">
            <div class="bar-fill wait-bar" id="waitBar"></div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-label">Avg Turnaround Time</div>
          <div class="metric-value" id="avgTurnaround">0.00</div>
          <div class="metric-bar">
            <div class="bar-fill turnaround-bar" id="turnaroundBar"></div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-label">Avg Response Time</div>
          <div class="metric-value" id="avgResponse">0.00</div>
          <div class="metric-bar">
            <div class="bar-fill response-bar" id="responseBar"></div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-label">Context Switches</div>
          <div class="metric-value large" id="contextSwitches">0</div>
        </div>

        <div class="metric-card">
          <div class="metric-label">Throughput</div>
          <div class="metric-value" id="throughput">0.00</div>
          <div class="metric-unit">processes/unit</div>
        </div>
      </aside>
    </main>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>